{
	"type": "multi-process-component",
	"identifier": {
		"namespace": "lifebitai",
		"name": "traits_gcta_greml"
	},
    "revision": {
        "hash": "12k3jb",
        "tag": "tag",
        "description": "text"
      },
	"description": "Genetic Traits pipeline running GCTA GREML tools.",
	"processes": [
		"gcta_calculate_grm",
		"gcta_greml_h2",
		"gcta_greml_gc"
	],
	"containers": [{
			"process": "gcta_calculate_grm",
			"name": "quay.io/lifebitai/traits",
			"tag": "1.0.0"
		},
		{
			"process": "gcta_greml_h2",
			"name": "quay.io/lifebitai/traits",
			"tag": "1.0.0"
		},
		{
			"process": "gcta_greml_gc",
			"name": "quay.io/lifebitai/traits",
			"tag": "1.0.0"
		}
	],
    "execution": {
        "url": "https://raw.githubusercontent.com/lifebit-ai/bi-traits-nf/DSL2-dev/main.nf?token=GHSAT0AAAAAABVOACTXPJXF7NLFOP76CIPSYXSQ3QA"
    },
	"resources": [{
		"process": "gcta_calculate_grm",
		"cpus": 2,
		"memory": "2.GB",
		"disk": "30.GB"
	}, {
		"process": "gcta_greml_h2",
		"cpus": 2,
		"memory": "2.GB",
		"disk": "30.GB"
	}, {
		"process": "gcta_greml_gc",
		"cpus": 2,
		"memory": "2.GB",
		"disk": "30.GB"
	}],
    "errors": [{
        "process": "gcta_calculate_grm",
        "errorStrategy": "retry",
        "maxRetries": 3
      }, {
        "process": "gcta_greml_h2",
        "errorStrategy": "retry",
        "maxRetries": 3
      }, {
        "process": "gcta_greml_gc",
        "errorStrategy": "retry",
        "maxRetries": 3
      }],
	"parameters": {
		"parameter1": {
			"id": "analysis_mode",
			"type": "string",
			"description": "Mode of analysis, either heritability or genetic_correlation",
			"required": false,
            "prefix" : "rnd",
			"default": "heritability",
			"choices": ["heritability", "genetic_correlation"]
		},
		"parameter2": {
			"id": "gwas_sample_size",
			"type": "number",
            "prefix" : "rnd",
			"description": "Number of samples in the input GWAS VCF",
			"required": true
		},
		"parameter3": {
			"id": "other_gwas_sample_size",
			"type": "number",
            "prefix" : "rnd",
			"description": "Number of samples in the external GWAS VCF",
			"required": true
		}
	},
	"inputs": {
		"input1": {
			"label": "ch_plink_gcta_input",
			"elements": [{
				"id": "plink_gcta_input",
				"type": "path",
				"pattern": "*.gambit.tgz",
				"checkIfExists": true
			}]
		},
		"input2": {
			"label": "ch_pheno_file",
			"elements": [{
				"id": "pheno_file",
				"type": "path",
				"pattern": "*.txt.gz",
				"checkIfExists": true
			}]
		}
	},
	"outputs": {
		"output1": {
			"label": "gcta_greml_out",
			"elements": [{
				"id": "gcta_greml_out",
				"type": "path",
				"pattern": "GCTA_GREML_*"
			}]
		}
	}
} 